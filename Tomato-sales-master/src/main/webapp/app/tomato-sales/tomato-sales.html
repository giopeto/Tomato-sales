<div ng-controller="tomatoSalesCtrl as vm">
    <form>
        <div class="form-group">
            <label for="size">Size:</label>
            <div>
                <input type="number" class="form-control" id="size" name="size" ng-model="vm.size" min="0" step="1">
            </div>
        </div>
        <button type="submit" class="btn btn-lg btn-success" ng-click="vm.get({size: vm.size})">Show latest tomato sales</button>
    </form>

    <div class="col-lg-2" ng-if="vm.isLoading">
        <div class="loader"></div>
    </div>

    <table class="table table-hover" ng-if="vm.tomatoes.length>0">
        <tr>
            <th>Provider</th>
            <th>Tomatoes</th>
            <th>Sale Date</th>
        </tr>
        <tr ng-repeat="row in vm.tomatoes">
            <td>{{ row.provider }}</td>
            <td>{{ row.tomatoes }}</td>
            <td>{{ row.timestamp | date: 'dd.MM.yyyy'}}</td>
        </tr>
    </table>
</div>